
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../18-write_watch/">
      
      
        <link rel="next" href="../2-cheats/">
      
      
      <link rel="icon" href="../logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>19 memory - Game-Cheat</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../soft-era.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="apple" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Game-Cheat" class="md-header__button md-logo" aria-label="Game-Cheat" data-md-component="logo">
      
  <img src="../logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Game-Cheat
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              19 memory
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="apple" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Soft Era"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Soft Era" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="soft" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Apple Classic"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Apple Classic" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../1-ow/" class="md-tabs__link">
        
  
  
    
  
  1 ow

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../10-kvmi-v7/" class="md-tabs__link">
        
  
  
    
  
  10 kvmi v7

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../11-xen-22.04/" class="md-tabs__link">
        
  
  
    
  
  11 xen 22.04

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../12-xen-backlist/" class="md-tabs__link">
        
  
  
    
  
  12 xen backlist

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../13-xen-pciback/" class="md-tabs__link">
        
  
  
    
  
  13 xen pciback

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../14-summary/" class="md-tabs__link">
        
  
  
    
  
  14 summary

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../15-CE-tutorial/" class="md-tabs__link">
        
  
  
    
  
  15 CE tutorial

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../16-vmi-rw/" class="md-tabs__link">
        
  
  
    
  
  16 vmi rw

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../17-dump/" class="md-tabs__link">
        
  
  
    
  
  17 dump

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../18-write_watch/" class="md-tabs__link">
        
  
  
    
  
  18 write watch

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  19 memory

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../2-cheats/" class="md-tabs__link">
        
  
  
    
  
  2 cheats

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../20-main/" class="md-tabs__link">
        
  
  
    
  
  20 main

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../3-display/" class="md-tabs__link">
        
  
  
    
  
  3 display

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../4-igpu/" class="md-tabs__link">
        
  
  
    
  
  4 igpu

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../5-dgpu/" class="md-tabs__link">
        
  
  
    
  
  5 dgpu

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../6-two-gpu/" class="md-tabs__link">
        
  
  
    
  
  6 two gpu

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../7-vmi/" class="md-tabs__link">
        
  
  
    
  
  7 vmi

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../8-kvm-legacy/" class="md-tabs__link">
        
  
  
    
  
  8 kvm legacy

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../9-kvmi-v12/" class="md-tabs__link">
        
  
  
    
  
  9 kvmi v12

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../memo/" class="md-tabs__link">
        
  
  
    
  
  Memo

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Game-Cheat" class="md-nav__button md-logo" aria-label="Game-Cheat" data-md-component="logo">
      
  <img src="../logo.svg" alt="logo">

    </a>
    Game-Cheat
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-ow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 ow
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-kvmi-v7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 kvmi v7
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-xen-22.04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 xen 22.04
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-xen-backlist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 xen backlist
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-xen-pciback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 xen pciback
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 summary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-CE-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15 CE tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-vmi-rw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16 vmi rw
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-dump/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17 dump
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-write_watch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    18 write watch
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    19 memory
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    19 memory
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      오버워치 구조 레퍼런스를 살펴보자
    </span>
  </a>
  
    <nav class="md-nav" aria-label="오버워치 구조 레퍼런스를 살펴보자">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ecs" class="md-nav__link">
    <span class="md-ellipsis">
      일반적인 ECS 엔진
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      오버워치2 메모리 구조 레퍼런스
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poollist" class="md-nav__link">
    <span class="md-ellipsis">
      그럼 PoolList는 어떻게 찾는데?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      그럼 복호화 코드는 어떻게 찾는데?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      데이터 받기
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2-cheats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 cheats
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20 main
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-display/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 display
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4-igpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 igpu
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5-dgpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 dgpu
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6-two-gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 two gpu
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../7-vmi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 vmi
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../8-kvm-legacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8 kvm legacy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../9-kvmi-v12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9 kvmi v12
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../memo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memo
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      오버워치 구조 레퍼런스를 살펴보자
    </span>
  </a>
  
    <nav class="md-nav" aria-label="오버워치 구조 레퍼런스를 살펴보자">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ecs" class="md-nav__link">
    <span class="md-ellipsis">
      일반적인 ECS 엔진
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      오버워치2 메모리 구조 레퍼런스
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poollist" class="md-nav__link">
    <span class="md-ellipsis">
      그럼 PoolList는 어떻게 찾는데?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      그럼 복호화 코드는 어떻게 찾는데?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      데이터 받기
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>19 memory</h1>

<h2 id="_1">오버워치 구조 레퍼런스를 살펴보자</h2>
<p>작성자: kkongnyang2 작성일: 2025-08-27</p>
<hr />
<h3 id="ecs">일반적인 ECS 엔진</h3>
<p>Entity = 플레이어 10명에게 부여하는 식별 ID<br />
Component = 상태 데이터<br />
System = 모든 로직 함수. 상태와 조건을 따져 상태를 변경시키는 시스템.</p>
<p>엔티티는 아키타입, 즉 같은 컴포넌트 스트림들을 가지는 애들로 분류된다.<br />
아키타입 A = hp, position x<br />
아키타입 B = barrier, position y</p>
<p>(.data) g_world ──► (heap) World<br />
                      ├─ registry ─► (heap) EntityLoc[Max]   // entityId → (chunk, idx)<br />
                      └─ pools     ─► Map<ArchetypeID, ArchetypePool*></p>
<p>(heap) ArchetypePool<br />
    ├─ layout ─► (rdata/heap) ArchetypeLayout { CompLayout[] (offset,stride) }<br />
    └─ chunks : vector<Chunk*> ─► (heap) Chunk { count, entity_dense[], data_base … }</p>
<p>주소 = chunk.data_base + layout.comp[id].offset + local_index * layout.comp[id].stride</p>
<ul>
<li>최초의 루트 포인터 : g_world 포인터</li>
<li>world : 런타임의 루트 컨텍스트. 게임 한 판을 대표하는 최상위 그릇.</li>
<li>registry : 엔티티/컴포넌트/아키타입/청크를 인덱싱하는 O(1) 중앙 테이블<br />
            EntityLoc[], FreeList, IDAllocator, ArchetypeTbale, LayoutTable</li>
<li>EntityLoc : 레지스트리의 테이블 중 가장 핫함<br />
            entityId → (archetype, chunk*, local_index)</li>
<li>ArchetypePool: 실제 데이터 컨테이너 집합</li>
<li>ArchetypeLayout: 이미 개발자들이 만들어놓은 레이아웃<br />
                  id, comp_count, compLayout[], chunk_data_size</li>
<li>CompLayout : id, offset, stride</li>
</ul>
<p>찾아가는 방법은 따라서 두개.</p>
<p>g_world.registry.EntityLoc.chunk 도착해서 layout로 offset,stride 얻어서 주소 계산<br />
g_world.pools.ArchetypePool.chunks 도착해서 entity_dense 보고 원하는 엔티티/컴포넌트 찾기. layout로 offset,stride 얻어서 주소 계산</p>
<p>게임 진행</p>
<ol>
<li>match_start()시 청크들 할당</li>
<li>10개의 엔티티 생성 - entityID 발급 및 아키타입 결정</li>
<li>입력값들이 들어오고 진행이 되면 로컬에서 매 프레임 렌더링시스템, UI시스템, 스킬시스템 등을 돌림</li>
<li>엔티티별로 chunk_base + comp_offset + local_index*stride로 찾아가 write</li>
<li>매 프레임 진짜 스냅샷이 들어오면 보간해서 다시 write</li>
<li>특정 엔티티가 아키타입을 변경하면 스왑 삭제, 청크 헤더 및 EntityLoc에 반영</li>
</ol>
<h3 id="2">오버워치2 메모리 구조 레퍼런스</h3>
<div class="highlight"><pre><span></span><code>namespace offset
{
    // PoolList
    constexpr auto entity = 0x8;
    constexpr auto unique_id = 0x118;
    constexpr auto local_unique_id = 0x2E8;
    constexpr auto link_unqiue_id = 0xD4;

    constexpr auto entity_rawlist = 0x20;
    constexpr auto entity_rawlist_count = 0x2C;
    constexpr auto next_rawlist = 0x18;
}
</code></pre></div>
<p>PoolHeader<br />
 ├─ 0x18: next (다음 페이지)<br />
 ├─ 0x20: rawlist (엔트리 배열 시작 주소)  ← 여기를 따라가면<br />
 └─ 0x2C: count</p>
<p>rawlist:  [ Entry0 ][ Entry1 ][ Entry2 ] ... (count개)<br />
              └─ +0x08 에 Parent(엔티티) 포인터 (구조체형일 때)</p>
<p>그렇게 찾은 Parent(즉 엔티티) 주소를 decrypt::Parent(parent, N)에 입력하면 ComponentBase 리턴</p>
<p>uint64_t decrypt::Parent(uint64_t Parent, uint8_t Type) //OK<br />
{<br />
<strong>try<br />
    {<br />
        if (IsValidPtr(Parent))<br />
        {<br />
            uint64_t v1 = Parent;<br />
            uint64_t v2 = (uint64_t)1 &lt;&lt; (uint64_t)(Type &amp; 0x3F);<br />
            uint64_t v3 = v2 - 1;<br />
            uint64_t v4 = Type &amp; 0x3F;<br />
            uint64_t v5 = Type / 0x3F;<br />
            uint64_t b1 = <em>(_QWORD</em>)(v1 + 0x60);<br />
            uint64_t b2 = <em>(_QWORD</em>)(v1 + 8i64 * v5 + 0xF0);<br />
            uint64_t b3 = (v2 &amp; <em>(_QWORD</em>)(v1 + 8i64 * v5 + 0xF0)) &gt;&gt; v4;<br />
            uint64_t b4 = (v3 &amp; b2) - (((v3 &amp; b2) &gt;&gt; 1) &amp; 0x5555555555555555i64);<br />
            uint64_t b5 = <em>(unsigned __int8</em>)(v5 + v1 + 272)<br />
                + ((72340172838076673i64<br />
                    * (((b4 &amp; 0x3333333333333333i64)<br />
                        + ((b4 &gt;&gt; 2) &amp; 0x3333333333333333i64)<br />
                        + (((b4 &amp; 0x3333333333333333i64) + ((b4 &gt;&gt; 2) &amp; 0x3333333333333333i64)) &gt;&gt; 4)) &amp; 0xF0F0F0F0F0F0F0Fi64)) &gt;&gt; 56);<br />
            uint64_t Key1 = CompKey1;<br />
            uint64_t Key2 = CompKey2;<br />
            uint64_t b6 = <em>(_QWORD</em>)(b1 + 8 * b5);<br />
            uint64_t b7 = Key2 ^ ((unsigned int)b6 | ((unsigned int)b6 | b6 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)((unsigned int)b6 ^ ~(unsigned int)<em>(_QWORD</em>)(ImageBase + 0x3ACDCA0 + (Key1 &amp; 0xFFF))) &lt;&lt; 32)) &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)((unsigned int)b6 ^ 0xBC6F2947) &lt;&lt; 32));<br />
            uint64_t b8 = (unsigned int)b7 | b7 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(b7<br />
                + __ROL4</strong>(<br />
<em>(_QWORD</em>)(ImageBase + 0x3ACDCA0 + (Key1 &gt;&gt; 52)),<br />
                    1)) &lt;&lt; 32);<br />
            return -(int)b3 &amp; ((unsigned int)b8 | b8 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)((unsigned int)b8 ^ (unsigned int)~(<em>(_QWORD</em>)(ImageBase + 0x3ACDCA0 + (Key1 &amp; 0xFFF)) &gt;&gt; 32)) &lt;&lt; 32));<br />
        }<br />
    }<br />
    __except (1) {}<br />
    return 0;<br />
}</p>
<p>비트마스크/벡터 명령어(SSE)로 키를 섞어 결과 포인터를 복호화</p>
<p>참고로 N은 eComponentType</p>
<p>enum eComponentType<br />
{<br />
    TYPE_ANIMATE = 0x1,<br />
    TYPE_RAY = 0x02,<br />
    TYPE_VELOCITY = 0x04,<br />
    TYPE_TEAMBIT = 0x1F,<br />
    TYPE_ROTATE = 0x2D,<br />
    TYPE_PLAYER = 0x31,<br />
    TYPE_LINK = 0x32,<br />
    TYPE_VISCHECK = 0x33,<br />
    TYPE_SKILL = 0x35,<br />
    TYPE_ROTATE2 = 0x37,<br />
    TYPE_OBJECT = 0x38,<br />
    TYPE_HEALTH = 0x39,<br />
    TYPE_CMD = 0x41,<br />
    TYPE_HEROID = 0x52,<br />
    TYPE_OUTLINE = 0x5A,<br />
};</p>
<p>찾은 ComponentBase에서 아래와 같은 오프셋을 추가하면 해당 데이터 항목</p>
<p>namespace offset<br />
{<br />
    // MeshComponent<br />
    constexpr auto velocity = 0x50;<br />
    constexpr auto root_pos = 0x380;<br />
    constexpr auto bone_list = 0x810;</p>
<div class="highlight"><pre><span></span><code>// TeamComponent
constexpr auto team = 0x58;

// RotateComponent
constexpr auto rotate_struct = 0x7C0;
constexpr auto rotate_yaw = 0x8FC;

// SkillComponent
constexpr auto skill_rawlist = 0x1868;
constexpr auto skill_struct = 0x22A2F00;

// ObjectComponent
constexpr auto ObUniqueID = 0x18;
constexpr auto ObPos = 0xE0;

// HealthComponent
constexpr auto health = 0xDC;
constexpr auto armor = 0x21C;
constexpr auto barrier = 0x35C;

// HeroComponent
constexpr auto hero_id = 0xF0;

// CommandComponent
constexpr auto input = 0x1244;
constexpr auto angle = 0x12A0;
</code></pre></div>
<p>}</p>
<h3 id="poollist">그럼 PoolList는 어떻게 찾는데?</h3>
<p>XorKey, Index, Table, GM 순으로 복호화해서.</p>
<p>uint64_t decrypt::GameManagerXorKey(uint64_t a1) //OK<br />
{<br />
    __try<br />
    {<br />
        __int64 v1; // rbx<br />
        unsigned __int64 v2; // rdi<br />
        unsigned __int64 v3; // r8<br />
        unsigned __int64 v4; // rax<br />
        unsigned __int64 v5; // rbx<br />
        unsigned __int64 v6; // rcx<br />
        unsigned __int64 v7; // rcx<br />
        __m128i v8; // xmm1<br />
        __m128i v9; // xmm2<br />
        __m128i v10; // xmm0<br />
        __m128i v11; // xmm1</p>
<div class="highlight"><pre><span></span><code>    v1 = a1;
    v2 = ImageBase + 0x5D14D2;
    v3 = v2 + 0x8;
    v4 = 0i64;
    v5 = *(__int64*)(ImageBase + 0x3ACECC0
        + 8 * (((unsigned __int8)v1 + 0x66) &amp; 0x7F)
        + (((unsigned __int64)(v1 + 0xF74216354A20866i64) &gt;&gt; 7) &amp; 7)) ^ v2 ^ (v1 + 0xF74216354A20866i64);
    v6 = (v3 - v2 + 7) &gt;&gt; 3;
    if (v2 &gt; v3)
        v6 = 0i64;
    if (v6 &amp;&amp; v6 &gt;= 4)
    {
        v7 = v6 &amp; 0xFFFFFFFFFFFFFFFCui64;
        ZeroMemory(&amp;v8, sizeof(v8));
        ZeroMemory(&amp;v9, sizeof(v9));

        do
        {
            v4 += 4i64;
            v8 = _mm_xor_si128(v8, _mm_loadu_si128((const __m128i*)v2));
            v10 = _mm_loadu_si128((const __m128i*)(v2 + 16));
            v2 += 32i64;
            v9 = _mm_xor_si128(v9, v10);
        } while (v4 &lt; v7);
        v11 = _mm_xor_si128(v8, v9);
        v5 ^= _mm_xor_si128(v11, _mm_srli_si128(v11, 8)).m128i_u64[0];
    }
    for (; v2 &lt; v3; v2 += 8i64)
        v5 ^= *(_QWORD*)v2;

    return v5 ^ ~v3 ^ 0xF74216354A20866i64;
}
__except (1) {}
return 0;
</code></pre></div>
<p>}</p>
<p>int decrypt::GameManagerIndex(uint64_t a1) //OK<br />
{<br />
    __try<br />
    {<br />
        __int64 v1; // rdi<br />
        __int64 v2; // rbx<br />
        unsigned __int64 v3; // rsi<br />
        __int64 v4; // r10<br />
        __int64 v5; // r11<br />
        __int64 v6; // rax<br />
        _QWORD* v7; // r9<br />
        __int64 v8; // r10<br />
        __int64 v9; // rax</p>
<div class="highlight"><pre><span></span><code>    v1 = a1;
    v2 = ImageBase + 0x5D70D0;
    v3 = v2 + 0xB;
    v4 = 0xCC0BFEAA1FF95DA9i64;
    v5 = v1 + 24;
    v6 = 4i64;

    do
    {
        v7 = (_QWORD*)(v5 - 16);
        v8 = *(_QWORD*)(v5 + 8) ^ (v5 - 8) ^ (v5 - 16) ^ (v5 - 24) ^ *(_QWORD*)v5 ^ *(_QWORD*)(v5 - 24) ^ *(_QWORD*)(v5 - 8) ^ v5 ^ ~(v5 + 8) ^ v4;
        v5 += 0x28i64;
        v4 = *v7 ^ v8;
        --v6;
    } while (v6);

    for (; v2 + 64 &lt; v3; LOBYTE(v4) = v9 ^ v4)
    {
        v9 = *(_QWORD*)v2 ^ ~v2;
        v2 += 8i64;
    }
    return ((unsigned __int8)v4 ^ 6) &amp; 0xF;
}
__except (1) {}
return 0;
</code></pre></div>
<p>}</p>
<p>uint64_t decrypt::Table() //OK<br />
{<br />
    __try<br />
    {<br />
        uint64_t Key1 = GMKey1;<br />
        uint64_t Key2 = GMKey2;</p>
<div class="highlight"><pre><span></span><code>    uint64_t qword_3AE3978 = *(uint64_t*)(ImageBase + 0x3AE3978);

    uint64_t v2 = (unsigned int)Key2 ^ (unsigned int)qword_3AE3978 | (Key2 ^ ((unsigned int)qword_3AE3978 | ((unsigned int)qword_3AE3978 | qword_3AE3978 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(557102392 - qword_3AE3978) &lt;&lt; 32)) &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(qword_3AE3978 - (*(_QWORD*)(((unsigned __int64)Key1 &gt;&gt; 52) + ImageBase + 61660320) &gt;&gt; 32)) &lt;&lt; 32))) &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(((unsigned int)Key2 ^ (unsigned int)qword_3AE3978) + __ROL4__(*(_QWORD*)((Key1 &amp; 0xFFF) + ImageBase + 61660320), 1)) &lt;&lt; 32);
    uint64_t v3 = (unsigned int)v2 | v2 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(-229200722 - v2) &lt;&lt; 32);
    uint64_t GMXorKey = decrypt::GameManagerXorKey(*(uint64_t*)(0xA0 + v3));

    uint64_t XorBuf[20];
    uint64_t v6;

    for (uint64_t i = 0i64; i &lt; 20; ++i)
    {
        XorBuf[i] = *(_QWORD*)(v3 + 8 * i) ^ GMXorKey;
        switch ((unsigned __int64)(GMXorKey &amp; 7))
        {
        case 0ui64:
            v6 = 0xA22115FFD20A1F26i64;
            break;
        case 1ui64:
            v6 = 0xC93978D9115078F0i64;
            break;
        case 2ui64:
            v6 = 0xDE83BAC0690CC8A2i64;
            break;
        case 3ui64:
            v6 = 0x57C00EA24B120A82i64;
            break;
        case 4ui64:
            v6 = 0xB2730B23F294D216i64;
            break;
        case 5ui64:
            v6 = 0x53F351AE73BE44D4i64;
            break;
        case 6ui64:
            v6 = 0x3B207AD9732C7F3Ei64;
            break;
        default:
            v6 = 0x1C84FF058EB23CBCi64;
            break;
        }
        GMXorKey += v6;
    }

    int Idx = GameManagerIndex((uint64_t)XorBuf);
    uint64_t result = XorBuf[Idx + 4];
    return result;
}
__except (1) {}
return 0;
</code></pre></div>
<p>}</p>
<p>uint64_t decrypt::GameManager() //OK<br />
{<br />
    __try<br />
    {<br />
        uint64_t engm = <em>(uint64_t</em>)(Table() + 0x30);<br />
        uint64_t v1 = <em>(uint64_t</em>)(ImageBase + 0x3ACE14A) - 0x14737E1555DD8CD7i64;</p>
<div class="highlight"><pre><span></span><code>    if (engm != v1)
        return engm ^ v1;
}
__except (1) {}
return 0;
</code></pre></div>
<p>}</p>
<p>uint64_t decrypt::Ray(uint64_t GameManager)<br />
{<br />
    __try<br />
    {<br />
        uint64_t Key1 = RayKey1;<br />
        uint64_t Key2 = RayKey2;</p>
<div class="highlight"><pre><span></span><code>    uint64_t  v3 = *(_QWORD*)(GameManager + 0x220);
    uint64_t  v4 = (unsigned int)v3 | v3 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(v3 + 0x184E9681) &lt;&lt; 32);
    uint64_t  v5 = Key2 ^ ((unsigned int)v3 | v4 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(v4
        + __ROL4__(
            *(_QWORD*)(ImageBase + 0x3ACDCA0 + ((unsigned __int64)Key1 &gt;&gt; 52)) &gt;&gt; 32,
            1)) &lt;&lt; 32));
    return (unsigned int)v5 | ((unsigned int)v5 | v5 &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)((unsigned int)v5 - (unsigned int)*(_QWORD*)(ImageBase + 0x3ACDCA0 + (Key1 &amp; 0xFFF))) &lt;&lt; 32)) &amp; 0xFFFFFFFF00000000ui64 ^ ((unsigned __int64)(unsigned int)(2 * v5 + 994381642) &lt;&lt; 32);
}
__except (1) {}
return 0;
</code></pre></div>
<p>}</p>
<p>uint64_t decrypt::Outline(uint64_t Xor)<br />
{<br />
    __int64 v1; // rbx<br />
    unsigned __int64 v2; // rdi<br />
    unsigned __int64 v3; // r8<br />
    unsigned __int64 v4; // rax<br />
    __int64 v5; // rbx<br />
    unsigned __int64 v6; // rcx<br />
    unsigned __int64 v7; // rcx<br />
    __m128i v8; // xmm1<br />
    __m128i v9; // xmm2<br />
    __m128i v10; // xmm0<br />
    __m128i v11; // xmm1<br />
    unsigned __int64 retaddr; // [rsp+28h] [rbp+0h]<br />
    char v14; // [rsp+68h] [rbp+40h]</p>
<div class="highlight"><pre><span></span><code>v1 = Xor;
v2 = ImageBase + 0x7AEC32;
v3 = v2 + 0x8;
v4 = 0i64;
v5 = *(uint64_t*)(ImageBase + 0x3AA7180
    + 8 * (((unsigned __int8)v1 - 78) &amp; 0x7F)
    + (((unsigned __int64)(v1 + 817210438226979250i64) &gt;&gt; 7) &amp; 7)) ^ v2 ^ (v1 + 817210438226979250i64);
v6 = (v3 - v2 + 7) &gt;&gt; 3;
if (v2 &gt; v3)
    v6 = 0i64;
if (v6 &amp;&amp; v6 &gt;= 4)
{
    v7 = v6 &amp; 0xFFFFFFFFFFFFFFFCui64;
    ZeroMemory(&amp;v8, sizeof(v8));
    ZeroMemory(&amp;v9, sizeof(v9));

    do
    {
        v4 += 4i64;
        v8 = _mm_xor_si128(v8, _mm_loadu_si128((const __m128i*)v2));
        v10 = _mm_loadu_si128((const __m128i*)(v2 + 16));
        v2 += 32i64;
        v9 = _mm_xor_si128(v9, v10);
    } while (v4 &lt; v7);
    v11 = _mm_xor_si128(v8, v9);
    auto a1 = _mm_xor_si128(v11, _mm_srli_si128(v11, 8));
    v5 ^= *(uint64_t*)&amp;a1;
}
for (; v2 &lt; v3; v2 += 8i64)
    v5 ^= *(uint64_t*)v2;

return v5 ^ ~v3 ^ 0xB5750905542A9B2i64;
</code></pre></div>
<p>}</p>
<h3 id="_2">그럼 복호화 코드는 어떻게 찾는데?</h3>
<p>실행 중에 계속 사용되는 복호화 코드는 보통 게임 EXE 혹은 보안 DLL의 .text에 있다.<br />
그리고 키/상수/테이블 같이 자수 바뀌지 않는 상수와 셔플마스크, RVA 포인터들은 .rdata에 놓이는 경우가 많다.<br />
세션이나 프레임별로 바뀌는 키는 힙이나 TLS 같은 런타임 저장소에 있다. </p>
<div class="highlight"><pre><span></span><code>// Decryption
constexpr auto decrypt_key = 0xB3D20;
</code></pre></div>
<h3 id="_3">시나리오</h3>
<p>방법1. CE로 값 주소 찾거나 pfn_writewatch 힙 할당 잡기로 그쪽 관심영역 전부 덤프</p>
<p>데이터 힙 부분 열심히 덤프해봤자 산발적이고 의미도 없음.</p>
<p>방법2. CE로 what access 찾아보기</p>
<p>디버거 붙이는 순간 옵치 무결성 안티치트 발동해 꺼짐</p>
<p>방법3. 사용할 방법</p>
<p>CE로 값을 변화시켜가며 확실한 시드 10개 확보</p>
<p>혹은 힙에서 (pfn,off) 히트율과 주기성, 값 형태로 확률을 높인 시드 확보해도 됨</p>
<p>해당 페이지에 pfn writewatch를 건 상태에서 값을 변화시켜 이벤트가 찍히는지 확인</p>
<p>store 직전 5만개 명령어 정도를 마이크로 트레이스, 게임 exe가 명령내린 거만 필터링</p>
<p>mov [RAX+disp], reg/imm 이게 store 명령어인데 RAX(베이스) 계산하는 블록의 시작 주소가 복호화 루틴 후보</p>
<p>.rdata의 16바이트 셔플 마스크/곱셈 상수 XREF로 교차확인, 참조 함수 목록이랑 대조해 복호화→주소계산→store 패턴찾기</p>
<p>복호화 함수 진입/리턴을 잡는 커스텀 플러그인 추가</p>
<p>자동화 파이프라인으로 승격</p>
<p>즉 store 부터 다음 store까지의 명령어를 다 잡는다는거네. 그리고 적당히 뒷부분을 살펴서 원하는 복호화→주소계산→store 패턴을 찾는건가. 그럼 플러그인에 해당 기능을 넣어줘. 그리고 va를 시드로 줬을때 pfn으로 번역해서 사용하는 기능도, 그리고 화이트리스트 안의 rip만 수집하는 기능도 추가해줘.</p>
<p>$ sudo vmi-process-list win10 | grep -i overwatch<br />
$ cd ~/game-cheat/code<br />
sudo /home/kkongnyang2/vmi-venv/bin/python3 -m dump.watch_data_ranges \<br />
  --domain win10 \<br />
  --pid 11448 \<br />
  --module Overwatch.exe \<br />
  --ist-json /root/symbols/ntkrnlmp.json \<br />
  --drakvuf /usr/local/bin/drakvuf \<br />
  --mode seed \<br />
  --watch pfn \<br />
  --seed-addr 0x19D741D57FC@1 \<br />
  --seed-default-pad-pages 1 \<br />
  --duration 15 \<br />
  --interval 5  \<br />
  --ww-mode both \<br />
  --peek-bytes 32 \<br />
  --max-changes 16 \<br />
  --max-events 5000 \<br />
  --max-bytes 8000000 \<br />
  --outdir /home/kkongnyang2/watch_dump</p>
<p>sudo /home/kkongnyang2/vmi-venv/bin/python3 -m dump.watch_data_ranges \<br />
  --domain win10 \<br />
  --pid 11448 \<br />
  --module Overwatch.exe \<br />
  --ist-json /root/symbols/ntkrnlmp.json \<br />
  --drakvuf /usr/local/bin/drakvuf \<br />
  --mode seed \<br />
  --watch va \<br />
  --seed-addr 0x19D741D57FC@1 \<br />
  --duration 15 \<br />
  --outdir /home/kkongnyang2/watch_dump</p>
<h3 id="_4">데이터 받기</h3>
<p>hp 및 위치<br />
서버 기준으로 내 로컬 플레이어는 어느정도 미리 입력값을 반영해 작동하는 거고, 서버에서 이제 제대로 된 델타값이 오면 이전 스냅샷에서 계산해 옳은 값들을 업데이트하고 반영해주고, 서버에서 한번씩 델타값이 아니라 풀 스냅샷을 보내 혹시라도 틀어졌을걸 방지해준다.<br />
특정 DLL이 아니라 Overwatch.exe가 들고 있는 ECS 컨테이너(메모리)에 올라가 있다.</p>
<p>에셋<br />
또한 \Data\Casc에는 실시간 데이터가 아닌 에셋(리소스) 정보들이 들어있어서 필요할 때마다 참조한다.<br />
네트워크 계층(BLTE블록, 암호화 및 압축)에서 받아와 로컬 파일의 Data\Casc에 BLTE 블록(data.000..) + 오프셋 크기 정보인 .idx를 저장해두고,<br />
파일명을 Ckey(컨텐츠 해시)로 매핑 후 Ekey(인코딩 해시)로 매핑, .idx에서 BTLE 블록과 오프셋 정보 찾음<br />
해당 블록을 가져와 복호화 및 압축해제하여 평문으로 메모리에 전개</p>
<p>피격 표시<br />
클라: 발사 → 입력(+시각/시드) 전송, 예측 히트마커 잠깐 표시<br />
서버: 과거로 리와인드 → 레이캐스트 → 히트 확정 &amp; 피해 계산 → Health 감소<br />
서버→클라: 다음 틱에 피격자 Health 델타 + (선택) HitConfirm 이벤트 전송<br />
클라: Health 반영, 예측 히트마커를 확정/취소, 이펙트/사운드 재생</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "content.code.copy", "header.autohide"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>